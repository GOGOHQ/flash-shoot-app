# POI å›¾æ ‡ç®€åŒ–æ–¹æ¡ˆ

## é—®é¢˜è§£å†³

æ ¹æ®ç”¨æˆ·è¦æ±‚ï¼Œä¸å†ä½¿ç”¨å›¾ç‰‡æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ Flutter è‡ªå¸¦çš„å›¾æ ‡ç³»ç»Ÿã€‚

## ä¿®æ”¹å†…å®¹

### 1. ç§»é™¤å¤æ‚çš„å›¾æ ‡ç”Ÿæˆé€»è¾‘
- åˆ é™¤äº† `_createPoiIcon()` æ–¹æ³•
- åˆ é™¤äº† `_generateIconFile()` æ–¹æ³•
- åˆ é™¤äº† `_generateIconFileSync()` æ–¹æ³•
- åˆ é™¤äº†å›¾æ ‡æ–‡ä»¶ç”Ÿæˆç›¸å…³çš„å¯¼å…¥

### 2. ç®€åŒ–å›¾æ ‡è·å–é€»è¾‘
```dart
String _getPoiIcon(Place poi) {
  final category = poi.detailInfo.classifiedPoiTag.toLowerCase();
  final name = poi.name.toLowerCase();
  
  if (category.contains('é¤é¥®') || name.contains('é¤å…') || name.contains('ç¾é£Ÿ') || name.contains('é¥­åº—')) {
    return 'restaurant'; // ç¾é£Ÿå›¾æ ‡
  } else if (category.contains('æ—…æ¸¸') || name.contains('æ™¯ç‚¹') || name.contains('å…¬å›­') || name.contains('åšç‰©é¦†')) {
    return 'attractions'; // æ™¯ç‚¹å›¾æ ‡
  } else if (category.contains('å¨±ä¹') || name.contains('KTV') || name.contains('ç”µå½±é™¢') || name.contains('æ¸¸æˆ')) {
    return 'sports_esports'; // å¨±ä¹å›¾æ ‡
  } else if (category.contains('è´­ç‰©') || name.contains('å•†åœº') || name.contains('è¶…å¸‚') || name.contains('å•†åº—')) {
    return 'shopping_cart'; // è´­ç‰©å›¾æ ‡
  } else {
    return 'location_on'; // é»˜è®¤ä½ç½®å›¾æ ‡
  }
}
```

### 3. ä½¿ç”¨ç³»ç»Ÿé»˜è®¤æ ‡è®°
```dart
final marker = BMFMarker(
  position: BMFCoordinate(
    poi.location.lat,
    poi.location.lng,
  ),
  title: poi.name,
  subtitle: poi.address,
);
```

## å›¾æ ‡ç±»å‹æ˜ å°„

| POI ç±»å‹ | å›¾æ ‡åç§° | å¯¹åº” Flutter å›¾æ ‡ |
|---------|---------|------------------|
| ç¾é£Ÿ     | restaurant | Icons.restaurant |
| æ™¯ç‚¹     | attractions | Icons.attractions |
| å¨±ä¹     | sports_esports | Icons.sports_esports |
| è´­ç‰©     | shopping_cart | Icons.shopping_cart |
| é»˜è®¤     | location_on | Icons.location_on |

## ä¼˜åŠ¿

### 1. ç®€åŒ–ä»£ç 
- ç§»é™¤äº†å¤æ‚çš„å›¾æ ‡ç”Ÿæˆé€»è¾‘
- å‡å°‘äº†æ–‡ä»¶ I/O æ“ä½œ
- é™ä½äº†å†…å­˜ä½¿ç”¨

### 2. æé«˜æ€§èƒ½
- ä¸éœ€è¦å¼‚æ­¥ç”Ÿæˆå›¾æ ‡æ–‡ä»¶
- ä¸éœ€è¦æ–‡ä»¶ç¼“å­˜ç®¡ç†
- æ ‡è®°æ·»åŠ æ›´å¿«

### 3. æ›´å¥½çš„å…¼å®¹æ€§
- ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å›¾æ ‡
- é¿å…å›¾æ ‡æ–‡ä»¶è·¯å¾„é—®é¢˜
- å‡å°‘ä¾èµ–

## å½“å‰çŠ¶æ€

### âœ… å·²å®Œæˆ
- ç§»é™¤å›¾ç‰‡æ–‡ä»¶ä¾èµ–
- ç®€åŒ–å›¾æ ‡è·å–é€»è¾‘
- ä½¿ç”¨ç³»ç»Ÿé»˜è®¤æ ‡è®°
- ä¿æŒ POI åˆ†ç±»åŠŸèƒ½

### ğŸ”„ å½“å‰å®ç°
- ä½¿ç”¨ `BMFMarker` é»˜è®¤æ„é€ å‡½æ•°
- ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©æ ‡è®°å›¾æ ‡
- ä¿æŒ POI ç±»å‹è¯†åˆ«åŠŸèƒ½

### ğŸ“‹ æµ‹è¯•å»ºè®®
1. **åŸºç¡€åŠŸèƒ½æµ‹è¯•**ï¼š
   - å¯åŠ¨åº”ç”¨ï¼Œè¿›å…¥åœ°å›¾é¡µé¢
   - ç‚¹å‡»å®šä½æŒ‰é’®æˆ–"æ˜¾ç¤ºå‘¨å›´åœ°ç‚¹"æŒ‰é’®
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ç¡®è®¤ POI è·å–æˆåŠŸ

2. **æ ‡è®°æ˜¾ç¤ºæµ‹è¯•**ï¼š
   - ç¡®è®¤åœ°å›¾ä¸Šæ˜¾ç¤ºæ ‡è®°
   - æ£€æŸ¥æ ‡è®°ä½ç½®æ˜¯å¦æ­£ç¡®
   - éªŒè¯æ ‡è®°ç‚¹å‡»åŠŸèƒ½ï¼ˆå¦‚æœæ”¯æŒï¼‰

3. **è°ƒè¯•ä¿¡æ¯æ£€æŸ¥**ï¼š
   ```
   è·å–åˆ° X ä¸ª POI
   POI è¯¦æƒ…: [POIåç§° (çº¬åº¦, ç»åº¦), ...]
   å¼€å§‹æ·»åŠ  POI æ ‡è®°ï¼Œå…± X ä¸ª POI
   æ·»åŠ æ ‡è®° 0: POIåç§° ä½ç½®: (çº¬åº¦, ç»åº¦) ç±»å‹: restaurant
   æ ‡è®° 0 å·²æ·»åŠ åˆ°åœ°å›¾
   å·²æ·»åŠ  X ä¸ª POI æ ‡è®°åˆ°åœ°å›¾
   ```

## åç»­ä¼˜åŒ–

### 1. æ ‡è®°ç‚¹å‡»åŠŸèƒ½
- ç¡®è®¤ç™¾åº¦åœ°å›¾ SDK çš„æ­£ç¡®å›è°ƒæ–¹æ³•å
- å¯ç”¨æ ‡è®°ç‚¹å‡»è·³è½¬åˆ°è¯¦æƒ…é¡µåŠŸèƒ½

### 2. è‡ªå®šä¹‰å›¾æ ‡ï¼ˆå¯é€‰ï¼‰
- å¦‚æœç³»ç»Ÿé»˜è®¤å›¾æ ‡ä¸æ»¡è¶³éœ€æ±‚
- å¯ä»¥è€ƒè™‘ä½¿ç”¨ `BMFMarker.iconData()` æ–¹æ³•
- ç›´æ¥ä¼ å…¥ Flutter çš„ `IconData`

### 3. æ ‡è®°æ ·å¼ä¼˜åŒ–
- è°ƒæ•´æ ‡è®°å¤§å°
- æ·»åŠ æ ‡è®°åŠ¨ç”»æ•ˆæœ
- ä¼˜åŒ–æ ‡è®°æ˜¾ç¤ºæ€§èƒ½

---

**æ›´æ–°æ—¶é—´**ï¼š2024å¹´å½“å‰æ—¶é—´  
**çŠ¶æ€**ï¼šâœ… ç®€åŒ–å®Œæˆï¼Œä½¿ç”¨ç³»ç»Ÿé»˜è®¤å›¾æ ‡
